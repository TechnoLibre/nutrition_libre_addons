<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <template id="s_imc_calculator" name="IMC Calculator">
        <section class="s_imc_snippet">
            <div class="container">
                <div class="row">
                    <div class="col-lg-12">
                        <div class="calculator-box" id="calculatorBox">
                            <h3>Calcul de l'IMC de mon enfant</h3>
                            <div class="form-group">
                                <input type="radio" id="bebe" name="ageGroup" value="Bebe" class="custom-radio" checked="checked"/>
                                <label for="bebe">Bébé (0-24 mois)</label>
                                <input type="radio"  id="enfant" name="ageGroup" class="custom-radio" value="Enfant"/>
                                <label for="enfant">Enfant (24-96 mois)</label>
                            </div>

                            <div class="form-group">
                                <label>Sexe:</label>
                                <input type="radio" id="garcon" name="gender" value="Garcon" class="custom-radio" checked="checked"/>
                                <label for="garcon">Garçon</label>
                                <input type="radio" id="fille" name="gender" class="custom-radio" value="Fille"/>
                                <label for="fille">Fille</label>
                            </div>
                            <div class="form-group">
                                <label for="age">Âge: </label>
                                <input type="number" id="age" class="form-control" placeholder="Entrez l'âge en mois"/>
                                <small id="ageError" class="text-danger"></small>
                            </div>
                            <div class="form-group">
                                <label for="taille">Taille:</label>
                                <input type="number" id="taille" class="form-control" placeholder="Entrez la taille"/>
                                <small id="tailleError" class="text-danger"></small>
                                <select id="tailleUnit" class="form-control-index">
                                    <option value="cm">CM</option>
                                    <option value="pouces">Pouces</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="poids">Poids:</label>
                                <input type="number" id="poids" class="form-control" placeholder="Entrez le poids"/>
                                <small id="poidsError" class="text-danger"></small>
                                <select id="poidsUnit" class="form-control-index">
                                    <option value="kg">KG</option>
                                    <option value="livres">Livres</option>
                                </select>
                            </div>
                                    <button type="button" class="btn calculer-btn">Calculer son IMC</button>
                            </div>
                     

                        <div id="resultsContainer" class="row mt-4" style="display: none;">
                            <div class="col-md-6">
                                <div id="canvasContainer" class="card">
                                    <div class="card-body">
                                        <h3 class="card-title">Position sur la Courbe</h3>
                                        <canvas id="curveCanvas"></canvas>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div id="resultats" class="card">
                                    <div class="card-body">
                                     <h3 class="card-title">Bilan IMC personnalisé</h3>
                                       <h4>Votre enfant a un IMC de <span id="imc-value"></span></h4>
                                        <p>Cela correspond au <span id="percentile-value"></span> pour son âge et son sexe.</p>
                                        <p id="message-result"></p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </template>

    <template id="snippet_options" inherit_id="website.snippet_options">
        <xpath expr="." position="inside">
            <div data-js="s_imc_calculator" data-selector=".s_imc_snippet">
                <we-colorpicker string="Background Color" data-select-style="true" data-css-property="background-color" data-color-prefix="bg-"/>
            </div>
        </xpath>
    </template>

    <template id="website_snippets" inherit_id="website.snippets">
        <xpath expr="//div[@id='snippet_structure']/div[hasclass('o_panel_body')]" position="inside">
            <t t-snippet="imc_calculateur_snippet.s_imc_calculator"
               t-thumbnail="/imc_calculateur_snippet/static/description/icon.png"/>
        </xpath>
    </template>
</odoo>
